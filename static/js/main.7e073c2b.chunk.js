(this.webpackJsonpWritter_App_Management=this.webpackJsonpWritter_App_Management||[]).push([[0],{52:function(e,t,a){},67:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},70:function(e,t,a){e.exports=a(96)},96:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),i=a.n(c),s=a(5),l=a(11),o=a(10),u=a(8),m=a(9),p=a(124),d=a(101),h=a(32),f=Object(h.a)(),b=a(69),v=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:void 0,errorInfo:void 0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.errorInfo;if(a){var n=r.a.createElement("details",{className:"preserve-space"},t&&t.toString(),r.a.createElement("br",null),a.componentStack);return r.a.createElement("div",null,r.a.createElement("h2",{className:"error"},"An unexpected error has occurred."),n)}return this.props.children}}]),t}(r.a.Component),g=function(e){var t=e.component,a=Object(b.a)(e,["component"]);if(!t)throw new Error("A component needs to be specified for path ".concat(a.path));return r.a.createElement(p.a,Object.assign({},a,{render:function(e){return r.a.createElement(v,null,r.a.createElement(t,e))}}))},E="/",O={LOGIN:"/login"},j={index:function(){return"/company"},create:function(){return"/company/create"},view:function(e){return"/company/view/".concat(e)},edit:function(e){return"/company/edit/".concat(e)},delete:function(e){return"/company/delete/".concat(e)}},y={index:function(){return"/product_line"},create:function(){return"/product_line/create"},view:function(e){return"/product_line/view/".concat(e)},edit:function(e){return"/product_line/edit/".concat(e)},delete:function(e){return"/product_line/delete/".concat(e)}},C={index:function(){return"/brand"},create:function(){return"/brand/create"},view:function(e){return"/brand/view/".concat(e)},edit:function(e){return"/brand/edit/".concat(e)},delete:function(e){return"/brand/delete/".concat(e)}},w={index:function(){return"/product"},create:function(){return"/product/create"},view:function(e){return"/product/view/".concat(e)},edit:function(e){return"/product/edit/".concat(e)},delete:function(e){return"/product/delete/".concat(e)},html:function(e){return"/product/html/".concat(e)}},x=a(42),N=a.n(x),k=(a(79),a(81),{getAll:function(){return"companies"},getOne:function(e){return"companies/".concat(e)}}),S={getAll:function(){return"product_lines"},getOne:function(e){return"product_lines/".concat(e)}},A={getAll:function(){return"brands"},getOne:function(e){return"brands/".concat(e)}},P={getAll:function(){return"products"},getOne:function(e){return"products/".concat(e)}},D={getAll:function(){return"users"},getOne:function(e){return"users/".concat(e)}},I=function(e){if(e&&"cabrerarobles@gmail.com"===e||"amaso88@gmail.com"===e)return!0},L="admin",M="writter",B=function e(t){var a=this;Object(s.a)(this,e),this.loginWithGoogle=function(){return new Promise((function(e,t){a.auth.signInWithPopup(a.googleProvider).then((function(t){var a={username:t.user.displayName,email:t.user.email,id:t.user.uid,roles:I(t.user.email)?L:M};e(a)})).catch((function(e){console.log(e),t(e)}))}))},this.logout=function(){return new Promise((function(e,t){a.auth.signOut().then((function(){e()})).catch((function(e){t(e)}))}))},this.auth=t.auth,this.googleProvider=t.googleProvider},U=a(12),F=a(41),H=a.n(F),V=function(){function e(t){Object(s.a)(this,e),this.db=t.db,this.refAll=t.refAll,this.pathAll=t.path}return Object(l.a)(e,[{key:"getRefAll",value:function(){return this.refAll}},{key:"getRefOne",value:function(e){return this.db.ref("".concat(this.pathAll,"/").concat(e))}},{key:"getCustomQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e)return this.refAll;var t=this.refAll;return e.limitLast&&(t=t.limitToLast(e.limitLast)),e.limitFirst&&(t=t.limitToFirst(e.limitFirst)),e.startAt&&(t=t.startAt(e.startAt)),e.endAt&&(t=t.endAt(e.endAt)),e.orderByChild&&(t=t.orderByChild(e.orderByChild)),e.equalTo&&(t=t.equalTo(e.equalTo)),t}},{key:"getAll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(a,n){(t?e.getCustomQuery(t):e.refAll).on("value",(function(e){var t=e.val(),n=t?Object.keys(t).map((function(e){return Object(U.a)({},t[e],{uid:e})})):[];a(n)}),(function(e){console.log(e),n(e)}))}))}},{key:"getCountAll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(a,n){(t?e.getCustomQuery(t):e.refAll).once("value").then((function(e){a(e.numChildren())})).catch((function(e){console.log(e),n(e)}))}))}},{key:"createItem",value:function(e,t){var a=this;return new Promise((function(n,r){var c=a.refAll.push().key;e.created=H.a.now(),e.updated=H.a.now(),e.createdBy=t,a.getRefOne(c).set(e,(function(e){e?(console.log(e),r(e)):n(!0)}))}))}},{key:"updateItem",value:function(e,t){var a=this;return new Promise((function(n,r){e.updated=H.a.now(),a.getRefOne(t).set(e,(function(e){e?(console.log(e),r(e)):n(!0)}))}))}},{key:"getItem",value:function(e){var t=this;return new Promise((function(a,n){t.getRefOne(e).once("value").then((function(e){var t=e.val();a(t)})).catch((function(e){console.log(e),n(e)}))}))}},{key:"removeItem",value:function(e){var t=this;return new Promise((function(a,n){t.getRefOne(e).remove((function(e){e?(console.log(e),n(e)):(console.log("eliminado correctamente!!!"),a(!0))}))}))}}]),e}(),T=function(e){function t(e){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,{db:e.db,refAll:e.db.ref(D.getAll()),path:D.getAll()}))}return Object(m.a)(t,e),t}(V),W=function(e){function t(e){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,{db:e.db,refAll:e.db.ref(A.getAll()),path:A.getAll()}))}return Object(m.a)(t,e),t}(V),R=function(e){function t(e){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,{db:e.db,refAll:e.db.ref(S.getAll()),path:S.getAll()}))}return Object(m.a)(t,e),t}(V),G=function(e){function t(e){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,{db:e.db,refAll:e.db.ref(P.getAll()),path:P.getAll()}))}return Object(m.a)(t,e),t}(V),q=function(e){function t(e){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,{db:e.db,refAll:e.db.ref(k.getAll()),path:k.getAll()}))}return Object(m.a)(t,e),t}(V),z={apiKey:"AIzaSyDInxcKjFND6CPzzrqfpDUJwfBgFHAPJJU",authDomain:"writter-app-management.firebaseapp.com",databaseURL:"https://writter-app-management.firebaseio.com",projectId:"writter-app-management",storageBucket:"writter-app-management.appspot.com",messagingSenderId:"904791426685",appId:"1:904791426685:web:45c2edf19ecf22bca01314",measurementId:"G-WR58CXQRLF"},_=function e(){var t=this;Object(s.a)(this,e),this.getService=function(e){return t.services[e]},this.loginWithGoogle=function(){return t.auth.signInWithPopup(t.googleProvider)},this.logout=function(){return t.auth.signOut()},N.a.initializeApp(z),this.auth=N.a.auth(),this.db=N.a.database(),this.googleProvider=new N.a.auth.GoogleAuthProvider,this.authService=new B({auth:this.auth,googleProvider:this.googleProvider,db:this.db}),this.userService=new T({db:this.db}),this.brandService=new W({db:this.db}),this.productLineService=new R({db:this.db}),this.productService=new G({db:this.db}),this.companyService=new q({db:this.db}),this.services={auth:this.authService,user:this.userService,brand:this.brandService,productLine:this.productLineService,product:this.productService,company:this.companyService}},K=function e(){var t=this;Object(s.a)(this,e),this.setUser=function(e){t.isAuthenticated=null!==e,t.user=e},this.user=null,this.isAuthenticated=!1},J=r.a.createContext();J.displayName="SettingContext";var Q=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={firebase:new _,auth:new K},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(J.Provider,{value:{firebase:this.state.firebase,auth:this.state.auth}},this.props.children)}}]),t}(n.Component),$=function(e){return function(t){return r.a.createElement(J.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{context:a}))}))}},X=Q,Y=function(e){return function(t){var a=function(a){function n(){return Object(s.a)(this,n),Object(o.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,a),Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.context.firebase.auth.onAuthStateChanged((function(t){if(t){var a={username:t.displayName,email:t.email,roles:I(t.email)?L:M};e(a)||f.push(O.LOGIN)}else f.push(O.LOGIN)}))}},{key:"render",value:function(){return r.a.createElement(t,this.props)}}]),n}(r.a.Component);return $(a)}},Z=a(97),ee=a(98),te=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(e){e.preventDefault();var t=a.props,n=t.label;(0,t.onClick)(n)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.onClick,t=this.props,a=t.activeTab,n=t.label,c="tab-list-item";return a===n&&(c+=" tab-list-active"),r.a.createElement(Z.a,null,r.a.createElement(ee.a,{active:a===n,to:"#",className:c,onClick:e},n))}}]),t}(n.Component),ae=a(99),ne=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).onClickTabItem=function(e){a.setState({activeTab:e})},a.state={activeTab:e.children[0].props.label},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.onClickTabItem,t=this.props.children,a=this.state.activeTab;return r.a.createElement("div",{className:"tabs"},r.a.createElement(ae.a,{className:"nav-tabs mt-5 nav-fill"},t.map((function(t){var n=t.props.label;return r.a.createElement(te,{activeTab:a,key:n,label:n,onClick:e})}))),r.a.createElement("div",{style:{paddingTop:"20px"},className:"container-fluid"},t.map((function(e){if(e.props.label===a)return e.props.children}))))}}]),t}(n.Component),re=a(7),ce=a.n(re),ie=a(102),se=a(103),le=a(104),oe=a(105),ue=a(65),me=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1,options:a.props.options},a.handleChange=function(e,t){a.props.handleChange(e,t)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(ue.a,{isClearable:!0,isMulti:this.props.isMulti,onChange:this.handleChange,onCreateOption:this.props.onCreateOption,options:this.props.options,value:this.props.value&&this.props.value.length>0?this.props.value:[],className:"text-dark multi-select-options"})}}]),t}(n.Component),pe=a(66),de=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1,options:a.props.options},a.handleChange=function(e,t){a.props.handleChange(e,t)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"render",value:function(){return r.a.createElement(pe.a,{isClearable:!0,isMulti:this.props.isMulti,onChange:this.handleChange,options:this.props.options,value:this.props.value&&this.props.value.length>0?this.props.value:[],className:"text-dark multi-select-options"})}}]),t}(n.Component),he=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1,isCreatable:!1,options:[],selectedOptions:[]},a.checkIfSelectedOptionsChange=function(e){if(e.selectedOptions&&a.state.selectedOptions.length!==e.selectedOptions.length)return!0;for(var t=0;t<e.selectedOptions.length;t++){for(var n=e.selectedOptions[t],r=!1,c=0;c<a.state.selectedOptions.length;c++){var i=a.state.selectedOptions[c];if(n[a.props.defaultValue]==i.value){r=!0;break}}if(!r)return!0}return!1},a.prepareOptions=function(){var e=a.props.options.map((function(e){return{label:e[a.props.defaultLabel],value:e[a.props.defaultValue]}})),t=a.props.selectedOptions.map((function(e){return{label:e[a.props.defaultLabel],value:e[a.props.defaultValue]}}));a.setState(Object(U.a)({},a.state,{isCreatable:!!a.props.isCreatable,options:e,selectedOptions:t}))},a.handleChange=function(e,t){a.props.handleChange(e)},a.handleCreate=function(e){a.props.handleCreate(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.prepareOptions()}},{key:"shouldComponentUpdate",value:function(e,t){return!!(e.options&&this.state.options.length!==e.options.length||this.checkIfSelectedOptionsChange(e))&&(this.prepareOptions(),!0)}},{key:"render",value:function(){var e=this.state,t=e.options,a=e.selectedOptions;return this.props.isCreatable?r.a.createElement(me,{isClearable:!0,isMulti:this.props.isMulti,handleChange:this.handleChange,onCreateOption:this.handleCreate,options:t,className:"text-dark multi-select-options",value:a&&a.length>0?a:[]}):r.a.createElement(de,{isClearable:!0,isMulti:this.props.isMulti,handleChange:this.handleChange,options:t,className:"text-dark multi-select-options",value:a&&a.length>0?a:[]})}}]),t}(n.Component),fe=a(100);function be(){return r.a.createElement(fe.a,{animation:"border",role:"status",variant:"primary"},"Loading...")}var ve=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).changeProductHandler=function(e){a.setState(Object(U.a)({},a.state,{userUid:e?e.value:"",userName:e?e.label:""}))},a.getData=function(e){var t,n;return ce.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=3;break}return a.setState(Object(U.a)({},a.state,{products:[]})),r.abrupt("return");case 3:return t=a.props.context.firebase,r.next=6,ce.a.awrap(t.getService("product").getAll({orderByChild:"createdBy",equalTo:e}));case 6:n=r.sent,a.setState(Object(U.a)({},a.state,{products:n}));case 8:case"end":return r.stop()}}))},a.state={loading:!1,items:{},userUid:null,userName:null,products:[]},a.getItems=a.props.context.firebase.getService("user").getRefAll(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState(Object(U.a)({},this.state,{loading:!0})),this.getItems.on("value",(function(t){var a=t.val(),n=a?Object.keys(a).map((function(e){return Object(U.a)({},a[e],{uid:e})})):[];e.setState(Object(U.a)({},e.state,{items:n,loading:!1}))}))}},{key:"componentWillUnmount",value:function(){this.getItems.off()}},{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,this.state.loading&&r.a.createElement(be,null),r.a.createElement("h2",null," Seleccione un usuario"),r.a.createElement(ie.a,null,this.state.items&&this.state.items.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{md:"8"},r.a.createElement(he,{isCreatable:!1,isMulti:!1,options:this.state.items,defaultLabel:"username",defaultValue:"uid",handleChange:this.changeProductHandler,selectedOptions:this.state.userUid?[{uid:this.state.userUid,username:this.state.userName}]:[]})),r.a.createElement(se.a,{md:"4"},r.a.createElement(le.a,{className:"btn-view",onClick:function(){e.getData(e.state.userUid)}},"Ver")))),r.a.createElement(ie.a,null,r.a.createElement("h2",{className:"pt-5"},"Productos"),r.a.createElement("div",{className:"table-responsive"},r.a.createElement(oe.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",{className:"table-head"},r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"C\xf3digo"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Descripci\xf3n corta"),r.a.createElement("th",null,"Linea"),r.a.createElement("th",null,"Marca"))),r.a.createElement("tbody",null,this.state.products.length>0&&this.state.products.map((function(e,t){return r.a.createElement("tr",{key:e.uid},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.code),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.shortDescription),r.a.createElement("td",null,e.productLineName),r.a.createElement("td",null,e.brandName))})))))))}}]),t}(n.Component),ge=$(ve),Ee=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).changeProductHandler=function(e){a.setState(Object(U.a)({},a.state,{userUid:e?e.value:"",userName:e?e.label:""}))},a.getData=function(e){var t,n;return ce.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=3;break}return a.setState(Object(U.a)({},a.state,{products:[]})),r.abrupt("return");case 3:return t=a.props.context.firebase,r.next=6,ce.a.awrap(t.getService("productLine").getAll({orderByChild:"createdBy",equalTo:e}));case 6:n=r.sent,a.setState(Object(U.a)({},a.state,{products:n}));case 8:case"end":return r.stop()}}))},a.state={loading:!1,items:{},userUid:null,userName:null,products:[]},a.getItems=a.props.context.firebase.getService("user").getRefAll(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState(Object(U.a)({},this.state,{loading:!0})),this.getItems.on("value",(function(t){var a=t.val(),n=a?Object.keys(a).map((function(e){return Object(U.a)({},a[e],{uid:e})})):[];e.setState(Object(U.a)({},e.state,{items:n,loading:!1}))}))}},{key:"componentWillUnmount",value:function(){this.getItems.off()}},{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,this.state.loading&&r.a.createElement(be,null),r.a.createElement("h2",null," Seleccione un usuario"),r.a.createElement(ie.a,null,this.state.items&&this.state.items.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{md:"8"},r.a.createElement(he,{isCreatable:!1,isMulti:!1,options:this.state.items,defaultLabel:"username",defaultValue:"uid",handleChange:this.changeProductHandler,selectedOptions:this.state.userUid?[{uid:this.state.userUid,username:this.state.userName}]:[]})),r.a.createElement(se.a,{md:"4"},r.a.createElement(le.a,{className:"btn-view",onClick:function(){e.getData(e.state.userUid)}},"Ver")))),r.a.createElement(ie.a,null,r.a.createElement("h2",{className:"pt-5"},"Lineas de Productos"),r.a.createElement("div",{className:"table-responsive"},r.a.createElement(oe.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",{className:"table-head"},r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Descripci\xf3n"))),r.a.createElement("tbody",null,this.state.products.length>0&&this.state.products.map((function(e,t){return r.a.createElement("tr",{key:e.uid},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.description))})))))))}}]),t}(n.Component),Oe=$(Ee),je=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).changeProductHandler=function(e){a.setState(Object(U.a)({},a.state,{userUid:e?e.value:"",userName:e?e.label:""}))},a.getData=function(e){var t,n;return ce.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=3;break}return a.setState(Object(U.a)({},a.state,{products:[]})),r.abrupt("return");case 3:return t=a.props.context.firebase,r.next=6,ce.a.awrap(t.getService("brand").getAll({orderByChild:"createdBy",equalTo:e}));case 6:n=r.sent,a.setState(Object(U.a)({},a.state,{products:n}));case 8:case"end":return r.stop()}}))},a.state={loading:!1,items:{},userUid:null,userName:null,products:[]},a.getItems=a.props.context.firebase.getService("user").getRefAll(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState(Object(U.a)({},this.state,{loading:!0})),this.getItems.on("value",(function(t){var a=t.val(),n=a?Object.keys(a).map((function(e){return Object(U.a)({},a[e],{uid:e})})):[];e.setState(Object(U.a)({},e.state,{items:n,loading:!1}))}))}},{key:"componentWillUnmount",value:function(){this.getItems.off()}},{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,this.state.loading&&r.a.createElement(be,null),r.a.createElement("h2",null," Seleccione un usuario"),r.a.createElement(ie.a,null,this.state.items&&this.state.items.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{md:"8"},r.a.createElement(he,{isCreatable:!1,isMulti:!1,options:this.state.items,defaultLabel:"username",defaultValue:"uid",handleChange:this.changeProductHandler,selectedOptions:this.state.userUid?[{uid:this.state.userUid,username:this.state.userName}]:[]})),r.a.createElement(se.a,{md:"4"},r.a.createElement(le.a,{className:"btn-view",onClick:function(){e.getData(e.state.userUid)}},"Ver")))),r.a.createElement(ie.a,null,r.a.createElement("h2",{className:"pt-5"},"Marcas"),r.a.createElement("div",{className:"table-responsive"},r.a.createElement(oe.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",{className:"table-head"},r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Descripci\xf3n"))),r.a.createElement("tbody",null,this.state.products.length>0&&this.state.products.map((function(e,t){return r.a.createElement("tr",{key:e.uid},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.description))})))))))}}]),t}(n.Component),ye=$(je),Ce=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(ne,null,r.a.createElement("div",{label:"Productos por usuario"},r.a.createElement(ge,null)),r.a.createElement("div",{label:"Lineas por usuario"},r.a.createElement(Oe,null)),r.a.createElement("div",{label:"Marcas por usuario"},r.a.createElement(ye,null))))}}]),t}(n.Component),we=a(106),xe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,totalBrand:0,totalProduct:0,totalProductLine:0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n;return ce.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return this.setState(Object(U.a)({},this.state,{loading:!0})),e=this.props.context.firebase,r.next=4,ce.a.awrap(e.getService("brand").getCountAll({orderByChild:"createdBy",equalTo:this.props.context.auth.user.id}));case 4:return t=r.sent,r.next=7,ce.a.awrap(e.getService("product").getCountAll({orderByChild:"createdBy",equalTo:this.props.context.auth.user.id}));case 7:return a=r.sent,r.next=10,ce.a.awrap(e.getService("productLine").getCountAll({orderByChild:"createdBy",equalTo:this.props.context.auth.user.id}));case 10:n=r.sent,this.setState({totalBrand:t,totalProduct:a,totalProductLine:n,loading:!1});case 12:case"end":return r.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(we.a,{fluid:!0},r.a.createElement(d.a,{fluid:!0},r.a.createElement("h2",{className:"display-3"},this.state.totalBrand," ",this.state.loading&&r.a.createElement(be,null)),r.a.createElement("p",{className:"lead"},"Total de marcas"))),r.a.createElement(we.a,{fluid:!0},r.a.createElement(d.a,{fluid:!0},r.a.createElement("h2",{className:"display-3"},this.state.totalProduct," ",this.state.loading&&r.a.createElement(be,null)),r.a.createElement("p",{className:"lead"},"Total de productos"))),r.a.createElement(we.a,{fluid:!0},r.a.createElement(d.a,{fluid:!0},r.a.createElement("h2",{className:"display-3"},this.state.totalProductLine," ",this.state.loading&&r.a.createElement(be,null)),r.a.createElement("p",{className:"lead"},"Total de l\xedneas de productos"))))}}]),t}(n.Component);xe.displayName="ReportUser";var Ne=$(xe),ke=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log(this.props.context.auth.user),this.props.context.auth.user&&"admin"===this.props.context.auth.user.roles?r.a.createElement(Ce,null):this.props.context.auth.user&&"writter"===this.props.context.auth.user.roles?r.a.createElement(Ne,null):r.a.createElement("p",null,"Estas presentando problemas con la red?")}}]),t}(n.Component),Se=Y((function(e){return!!e}))(ke),Ae=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"The page does not exist."))}}]),t}(r.a.Component),Pe=a(107),De=a(108),Ie=a(109),Le=a(110),Me=a(67),Be=a.n(Me),Ue=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null},a.loginWithGoogle=function(){var e,t,n,r;return ce.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e=a.props.context.firebase,c.next=3,ce.a.awrap(e.getService("auth").loginWithGoogle());case 3:return t=c.sent,c.next=6,ce.a.awrap(e.getService("user").getItem(t.id));case 6:if(n=c.sent,r={username:t.username,email:t.email,id:t.id,roles:t.roles},console.log(r),n){c.next=12;break}return c.next=12,ce.a.awrap(e.getService("user").createItem(r,t.id));case 12:a.props.context.auth.setUser(r),f.push(E);case 14:case"end":return c.stop()}}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(ie.a,{className:"justify-content-md-center pt-5"},r.a.createElement(Pe.a,{border:"default",style:{width:"18rem"}},r.a.createElement(De.a,{variant:"top",src:Be.a}),r.a.createElement(Ie.a,{className:"justify-content-center"},r.a.createElement(Le.a,{className:"text-center"},"Autenticaci\xf3n"),r.a.createElement(le.a,{className:"btn-login",onClick:this.loginWithGoogle},"Login With Google")))))}}]),t}(n.Component),Fe=$(Ue),He=a(111),Ve=function(e,t){e.preventDefault(),f.push(t)},Te=function(e){e&&e.preventDefault(),f.goBack()},We=(a(52),function(){function e(t,a){Object(s.a)(this,e),this.baseRef=t,this.lastKey=null,this.lastValue=null,this.firstKey=null,this.firstValue=null,this.pageSize=a}return Object(l.a)(e,[{key:"next",value:function(){var e=this,t=this.baseRef;return(t=null!==this.lastValue?t.startAt(this.lastValue,this.lastKey).limitToFirst(this.pageSize+1):t.limitToFirst(this.pageSize)).once("value").then((function(t){var a=[],n=[];if(t.forEach((function(e){n.push(Object(U.a)({},e.val(),{uid:e.key})),a.push(e.key)})),null!==e.lastValue&&(a.shift(),n.shift()),n.length){var r=n.length-1;e.lastKey=a[r],e.lastValue=n[r].created,e.firstKey=a[0],e.firstValue=n[0].created}return n}))}},{key:"previous",value:function(){var e=this,t=this.baseRef;return null!==this.lastValue&&(t=t.endAt(this.firstValue,this.firstKey).limitToLast(this.pageSize+1)),t.once("value").then((function(t){var a=[],n=[];if(t.forEach((function(e){n.push(Object(U.a)({},e.val(),{uid:e.key})),a.push(e.key)})),n.length){var r=n.length-1;e.lastKey=a[r],e.lastValue=n[r].created,e.lastKey=a[0],e.lastValue=n[0].created}return null!==e.lastValue&&(a.pop(),n.pop()),n}))}}]),e}()),Re=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handlePagination=function(e){var t=a.state.pagination.activePage<e;a.setState(Object(U.a)({},a.state,{pagination:Object(U.a)({},a.state.pagination,{activePage:e})}),(function(){return a.sortEntities(t)}))},a.sortEntities=function(e){e?a.moveForward():a.moveBackward()},a.moveForward=function(){a.cursor.next().then((function(e){a.setState({items:e})}))},a.moveBackward=function(){a.cursor.previous().then((function(e){a.setState({items:e})}))},a.state={loading:!1,items:{},pagination:{itemsPerPage:2,total:0,cursor:"",activePage:0}},a.getItems=a.props.context.firebase.getService("company").getRefAll(),a.cursor=new We(a.getItems.orderByChild("created"),a.state.pagination.itemsPerPage),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e;return ce.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce.a.awrap(this.props.context.firebase.getService("company").getCountAll());case 2:e=t.sent,this.setState(Object(U.a)({},this.state,{pagination:Object(U.a)({},this.state.pagination,{total:e})})),this.moveForward();case 5:case"end":return t.stop()}}),null,this)}},{key:"componentWillUnmount",value:function(){this.getItems.off()}},{key:"render",value:function(){var e=this.state,t=e.items,a=e.loading;return r.a.createElement(d.a,null,r.a.createElement("h2",{className:"pt-5"},"Compa\xf1ias"),a&&r.a.createElement(be,null),r.a.createElement(ie.a,{className:"justify-content-end pb-1"},r.a.createElement(le.a,{className:"btn-created",onClick:function(e){return Ve(e,j.create())}},"Crear")),r.a.createElement("div",{className:"table-responsive"},r.a.createElement(oe.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",{className:"table-head"},r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Descripci\xf3n"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,t.length>0&&t.map((function(e,t){return r.a.createElement("tr",{key:e.uid},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.description),r.a.createElement("td",{className:"row-table-actions text-center"},r.a.createElement(He.a,{"aria-label":"Basic example"},r.a.createElement(le.a,{className:"btn-view",onClick:function(t){return Ve(t,j.view(e.uid))}},"View"),r.a.createElement(le.a,{className:"btn-edit",onClick:function(t){return Ve(t,j.edit(e.uid))}},"Edit"),r.a.createElement(le.a,{className:"btn-delete",onClick:function(t){return Ve(t,j.delete(e.uid))}},"Delete"))))}))))))}}]),t}(n.Component),Ge=$(Re),qe=a(30),ze=a(112),_e=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={item:{name:"",description:""},wordCount:0},a.changeHandler=function(e){var t=e.target.name,n=e.target.value,r=a.state.wordCount;if("description"===t){var c=n;r=(c=(c=(c=c.replace(/[ ]+/g," ")).replace(/^ /,"")).replace(/ $/,"")).split(" ").length}a.setState(Object(U.a)({},a.state,{item:Object(U.a)({},a.state.item,Object(qe.a)({},t,n)),wordCount:r}))},a.handleSubmit=function(e){e.preventDefault(),a.props.saveEntity(a.state.item)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.item;e&&this.setState({item:e})}},{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("h2",{className:"pt-5 pb-2"},this.props.title),r.a.createElement(ze.a,{noValidate:!0,onSubmit:this.handleSubmit,validated:!1,className:"pt-2 pb-5"},r.a.createElement(ie.a,null,r.a.createElement(se.a,{md:"10",className:"btn-back-container"},r.a.createElement(le.a,{onClick:function(e){return Te(e)},className:"btn-back"},"Back")),r.a.createElement(se.a,{md:"10",className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Nombre"),r.a.createElement("input",{type:"text",className:"form-control",name:"name",value:this.state.item.name,onChange:this.changeHandler})),r.a.createElement(se.a,{md:"10",className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Descripci\xf3n"),r.a.createElement("textarea",{className:"form-control text-dark",name:"description",value:this.state.item.description,onChange:this.changeHandler}),r.a.createElement("small",{className:"form-text text-muted"},"Palabras: ",this.state.wordCount))),r.a.createElement("div",{className:"btn-success-container"},r.a.createElement(le.a,{type:"submit",className:"btn-save btn-success"},"Save"))))}}]),t}(n.Component),Ke=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).saveEntity=function(e){var t;return ce.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=a.props.context.firebase,n.next=3,ce.a.awrap(t.getService("company").createItem(e,a.props.context.auth.user.uid));case 3:n.sent&&f.push(j.index());case 5:case"end":return n.stop()}}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(_e,{title:"Crear Compania",saveEntity:this.saveEntity})}}]),t}(n.Component),Je=$(Ke),Qe=a(113),$e=a(114),Xe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={loading:!1,item:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,a;return ce.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.props.context.firebase,this.setState({loading:!0}),t=this.props.match.params.id,n.next=5,ce.a.awrap(e.getService("company").getItem(t));case 5:a=n.sent,this.setState({item:a,loading:!1});case 7:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.item,a=e.loading;return r.a.createElement(d.a,null,r.a.createElement(ie.a,null,r.a.createElement(se.a,{md:"10"},r.a.createElement("h2",{className:"pt-5 pb-2"},"Ver Compania")),r.a.createElement(se.a,{md:"10",className:"btn-loading mb-1"},a&&r.a.createElement(be,null),r.a.createElement(le.a,{onClick:function(e){return Te(e)},className:"btn-back"},"Atras")),r.a.createElement(se.a,{md:"10"},r.a.createElement(Qe.a,null,r.a.createElement($e.a,{className:"d-flex justify-content-between"},r.a.createElement("span",null,r.a.createElement("strong",null,"Nombre:")),t&&t.name),r.a.createElement($e.a,{className:"d-flex justify-content-between"},r.a.createElement("span",null,r.a.createElement("strong",null,"Descripci\xf3n:")),t&&t.description)))))}}]),t}(n.Component),Ye=$(Xe),Ze=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).saveEntity=function(e){var t,n;return ce.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.props.context.firebase,n=a.props.match.params.id,r.next=4,ce.a.awrap(t.getService("company").updateItem(e,n));case 4:r.sent&&f.push(j.index());case 6:case"end":return r.stop()}}))},a.state={loading:!1,item:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,a;return ce.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.props.context.firebase,this.setState({loading:!0}),t=this.props.match.params.id,n.next=5,ce.a.awrap(e.getService("company").getItem(t));case 5:a=n.sent,this.setState({item:a,loading:!1});case 7:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){return this.state.loading?r.a.createElement(be,null):r.a.createElement(_e,{title:"Actualizar compania",saveEntity:this.saveEntity,item:this.state.item})}}]),t}(n.Component),et=$(Ze),tt=a(123),at=a(115),nt=a(116),rt=a(117),ct=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){var t,n;return ce.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),t=a.props.context.firebase,n=a.props.match.params.id,r.next=5,ce.a.awrap(t.getService("company").removeItem(n));case 5:r.sent&&f.push(j.index());case 7:case"end":return r.stop()}}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(tt.a,{show:!0,onHide:function(e){return Te(e)}},r.a.createElement(at.a,{closeButton:!0},"Eliminar!!!"),r.a.createElement(nt.a,null,"Estas seguro que deseas eliminar este elemento? "),r.a.createElement(rt.a,null,r.a.createElement(le.a,{variant:"secondary",onClick:function(e){return Te(e)}},"Cancelar"),r.a.createElement(le.a,{variant:"primary",onClick:this.handleSubmit},"Eliminar")))}}]),t}(n.Component),it=$(ct);function st(e){var t=e.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.c,null,r.a.createElement(g,{path:"".concat(t.url,"/edit/:id"),component:et}),r.a.createElement(g,{path:"".concat(t.url,"/create"),component:Je}),r.a.createElement(g,{path:"".concat(t.url,"/view/:id"),component:Ye}),r.a.createElement(g,{path:"".concat(t.url),component:Ge})),r.a.createElement(g,{path:"".concat(t.url,"/delete/:id"),component:it}))}var lt=a(118),ot=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={totalPages:0},a.updateActivePage=function(e){a.props.onPageChanged(e)},a.firtPage=function(){a.updateActivePage(1)},a.previousPage=function(){a.updateActivePage(a.props.current-1)},a.nextPage=function(){a.updateActivePage(a.props.current+1)},a.lastPage=function(){a.updateActivePage(a.state.totalPages)},a.showFirstButton=function(){return a.props.current>1},a.showPrevButton=function(){return a.props.current>0},a.showNextButton=function(){return a.props.current<a.state.totalPages-1},a.showLastButton=function(){return a.props.current<a.state.totalPages-1},a.itemsToDisplay=function(e){for(var t=[],n=0;n<a.state.totalPages;n++){var r={};n===e-1&&(r.active=!0),t.push(r)}return t},a.renderItem=function(e,t,a,n){return r.a.createElement(le.a,{outline:!0,size:"sm",className:"px-2",color:"white",variant:"info",onClick:a,disabled:!n()},t)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({totalPages:Math.ceil(Number(this.props.total/this.props.itemsPerPage))})}},{key:"render",value:function(){return r.a.createElement(lt.a,{"aria-label":"Page navigation example"},this.renderItem("angle-left","Prev",this.previousPage,this.showPrevButton),this.renderItem("angle-right","Next",this.nextPage,this.showNextButton))}}]),t}(n.Component),ut=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handlePagination=function(e){var t=a.state.pagination.activePage<e;a.setState(Object(U.a)({},a.state,{pagination:Object(U.a)({},a.state.pagination,{activePage:e})}),(function(){return a.sortEntities(t)}))},a.sortEntities=function(e){e?a.moveForward():a.moveBackward()},a.moveForward=function(){a.cursor.next().then((function(e){a.setState({items:e})}))},a.moveBackward=function(){a.cursor.previous().then((function(e){a.setState({items:e})}))},a.state={loading:!1,items:{},pagination:{itemsPerPage:2,total:0,cursor:"",activePage:0}},a.getItems=a.props.context.firebase.getService("productLine").getRefAll(),a.cursor=new We(a.getItems.orderByChild("created"),a.state.pagination.itemsPerPage),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e;return ce.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce.a.awrap(this.props.context.firebase.getService("productLine").getCountAll());case 2:e=t.sent,this.setState(Object(U.a)({},this.state,{pagination:Object(U.a)({},this.state.pagination,{total:e})})),this.moveForward();case 5:case"end":return t.stop()}}),null,this)}},{key:"componentWillUnmount",value:function(){this.getItems.off()}},{key:"render",value:function(){var e=this.state,t=e.items,a=e.loading;return r.a.createElement(d.a,null,r.a.createElement("h2",{className:"pt-5"},"Lineas de productos"),a&&r.a.createElement(be,null),r.a.createElement(ie.a,{className:"justify-content-end pb-1"},r.a.createElement(le.a,{className:"btn-created",onClick:function(e){return Ve(e,y.create())}},"Crear")),r.a.createElement("div",{className:"table-responsive"},r.a.createElement(oe.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",{className:"table-head"},r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Descripci\xf3n"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,t.length>0&&t.map((function(e,t){return r.a.createElement("tr",{key:e.uid},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.description),r.a.createElement("td",{className:"row-table-actions text-center"},r.a.createElement(He.a,{"aria-label":"Basic example"},r.a.createElement(le.a,{className:"btn-view",onClick:function(t){return Ve(t,y.view(e.uid))}},"View"),r.a.createElement(le.a,{className:"btn-edit",onClick:function(t){return Ve(t,y.edit(e.uid))}},"Edit"),r.a.createElement(le.a,{className:"btn-delete",onClick:function(t){return Ve(t,y.delete(e.uid))}},"Delete"))))})))),this.state.pagination.total>0&&r.a.createElement(ot,{total:this.state.pagination.total,current:this.state.pagination.activePage,itemsPerPage:this.state.pagination.itemsPerPage,onPageChanged:this.handlePagination})))}}]),t}(n.Component),mt=$(ut),pt=function(e){var t=e;return(t=(t=(t=t.replace(/[ ]+/g," ")).replace(/^ /,"")).replace(/ $/,"")).split(" ").length},dt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={item:{name:"",description:"",companiesUID:"",companiesName:""},wordCount:0},a.changeHandler=function(e){var t=e.target.name,n=e.target.value,r=a.state.wordCount;"description"===t&&(r=pt(n));a.setState(Object(U.a)({},a.state,{item:Object(U.a)({},a.state.item,Object(qe.a)({},t,n)),wordCount:r}))},a.changeCompaniesHandler=function(e){a.setState({item:Object(U.a)({},a.state.item,{companiesUID:e?e.value:"",companiesName:e?e.label:""})})},a.handleSubmit=function(e){e.preventDefault(),a.props.saveEntity(a.state.item)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.item;if(e){var t=this.state.wordCount;if(e.description){var a=e.description;t=pt(a)}this.setState({item:e,wordCount:t})}}},{key:"render",value:function(){var e=this.props.companies;return r.a.createElement(d.a,null,r.a.createElement("h2",{className:"pt-5 pb-2"},this.props.title),r.a.createElement(ze.a,{noValidate:!0,onSubmit:this.handleSubmit,validated:!1,className:"pt-2 pb-5"},r.a.createElement(ie.a,null,r.a.createElement(se.a,{md:"10",className:"btn-back-container"},r.a.createElement(le.a,{onClick:function(e){return Te(e)},className:"btn-back"},"Back")),r.a.createElement(se.a,{md:"10",className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Compa\xf1ia"),r.a.createElement(he,{isCreatable:!1,isMulti:!1,options:e,defaultLabel:"name",defaultValue:"uid",handleChange:this.changeCompaniesHandler,selectedOptions:this.state.item?[{uid:this.state.item.companiesUID,name:this.state.item.companiesName}]:[]})),r.a.createElement(se.a,{md:"10",className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Nombre"),r.a.createElement("input",{type:"text",className:"form-control",name:"name",value:this.state.item.name,onChange:this.changeHandler})),r.a.createElement(se.a,{md:"10",className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Descripcion"),r.a.createElement("textarea",{className:"form-control",name:"description",value:this.state.item.description,onChange:this.changeHandler}),r.a.createElement("small",{className:"form-text text-muted"},"Palabras: ",this.state.wordCount))),r.a.createElement("div",{className:"btn-success-container"},r.a.createElement(le.a,{type:"submit",className:"btn-save btn-success"},"Save"))))}}]),t}(n.Component),ht=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={companies:[]},a.saveEntity=function(e){var t;return ce.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=a.props.context.firebase,n.next=3,ce.a.awrap(t.getService("productLine").createItem(e,a.props.context.auth.user.id));case 3:n.sent&&f.push(y.index());case 5:case"end":return n.stop()}}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t;return ce.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=this.props.context.firebase,a.next=3,ce.a.awrap(e.getService("company").getAll());case 3:t=a.sent,this.setState({companies:t});case 5:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement(dt,{title:"Crear linea de productos",saveEntity:this.saveEntity,companies:this.state.companies})}}]),t}(n.Component),ft=$(ht),bt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={loading:!1,item:null},a.getItem=a.props.context.firebase.productLine,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,a;return ce.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.props.context.firebase,this.setState({loading:!0}),t=this.props.match.params.id,n.next=5,ce.a.awrap(e.getService("productLine").getItem(t));case 5:a=n.sent,this.setState({item:a,loading:!1});case 7:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.item,a=e.loading;return r.a.createElement(d.a,null,r.a.createElement(ie.a,null,r.a.createElement(se.a,{md:"10"},r.a.createElement("h2",{className:"pt-5 pb-2"},"Ver linea de productos")),r.a.createElement(se.a,{md:"10",className:"btn-loading mb-1"},a&&r.a.createElement(be,null),r.a.createElement(le.a,{onClick:function(e){return Te(e)},className:"btn-back"},"Back")),r.a.createElement(se.a,{md:"10"},r.a.createElement(Qe.a,null,r.a.createElement($e.a,{className:"d-flex justify-content-between"},r.a.createElement("span",null,r.a.createElement("strong",null,"Nombre:")),t&&t.name),r.a.createElement($e.a,{className:"d-flex justify-content-between"},r.a.createElement("span",null,r.a.createElement("strong",null,"Descripci\xf3n:")),t&&t.description)))))}}]),t}(n.Component),vt=$(bt),gt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).saveEntity=function(e){var t,n;return ce.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.props.context.firebase,n=a.props.match.params.id,r.next=4,ce.a.awrap(t.getService("productLine").updateItem(e,n));case 4:r.sent&&f.push(y.index());case 6:case"end":return r.stop()}}))},a.state={loading:!1,item:null,companies:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n;return ce.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=this.props.context.firebase,this.setState({loading:!0}),t=this.props.match.params.id,r.next=5,ce.a.awrap(e.getService("productLine").getItem(t));case 5:return a=r.sent,r.next=8,ce.a.awrap(e.getService("company").getAll());case 8:n=r.sent,this.setState({item:a,loading:!1,companies:n});case 10:case"end":return r.stop()}}),null,this)}},{key:"render",value:function(){return this.state.loading?r.a.createElement(be,null):r.a.createElement(dt,{title:"Actualizar linea de productos",saveEntity:this.saveEntity,item:this.state.item,companies:this.state.companies})}}]),t}(n.Component),Et=$(gt),Ot=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){var t,n;return ce.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),t=a.props.context.firebase,n=a.props.match.params.id,r.next=5,ce.a.awrap(t.getService("productLine").removeItem(n));case 5:r.sent&&f.push(y.index());case 7:case"end":return r.stop()}}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(tt.a,{show:!0,onHide:function(e){return Te(e)}},r.a.createElement(at.a,{closeButton:!0},"Modal heading"),r.a.createElement(nt.a,null,"Estas seguro que deseas eliminar este elemento? "),r.a.createElement(rt.a,null,r.a.createElement(le.a,{variant:"secondary",onClick:function(e){return Te(e)}},"Cancelar"),r.a.createElement(le.a,{variant:"primary",onClick:this.handleSubmit},"Eliminar")))}}]),t}(n.Component),jt=$(Ot);function yt(e){var t=e.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.c,null,r.a.createElement(g,{path:"".concat(t.url,"/edit/:id"),component:Et}),r.a.createElement(g,{path:"".concat(t.url,"/create"),component:ft}),r.a.createElement(g,{path:"".concat(t.url,"/view/:id"),component:vt}),r.a.createElement(g,{path:"".concat(t.url),component:mt})),r.a.createElement(g,{path:"".concat(t.url,"/delete/:id"),component:jt}))}var Ct=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handlePagination=function(e){var t=a.state.pagination.activePage<e;a.setState(Object(U.a)({},a.state,{pagination:Object(U.a)({},a.state.pagination,{activePage:e})}),(function(){return a.sortEntities(t)}))},a.sortEntities=function(e){e?a.moveForward():a.moveBackward()},a.moveForward=function(){a.cursor.next().then((function(e){a.setState({items:e})}))},a.moveBackward=function(){a.cursor.previous().then((function(e){a.setState({items:e})}))},a.state={loading:!1,items:{},pagination:{itemsPerPage:2,total:0,cursor:"",activePage:0}},a.getItems=a.props.context.firebase.getService("brand").getRefAll(),a.cursor=new We(a.getItems.orderByChild("created"),a.state.pagination.itemsPerPage),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e;return ce.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce.a.awrap(this.props.context.firebase.getService("brand").getCountAll());case 2:e=t.sent,this.setState(Object(U.a)({},this.state,{pagination:Object(U.a)({},this.state.pagination,{total:e})})),this.moveForward();case 5:case"end":return t.stop()}}),null,this)}},{key:"componentWillUnmount",value:function(){this.getItems.off()}},{key:"render",value:function(){var e=this.state,t=e.items,a=e.loading;return r.a.createElement(d.a,null,r.a.createElement("h2",{className:"pt-5"},"Marcas"),a&&r.a.createElement(be,null),r.a.createElement(ie.a,{className:"justify-content-end pb-1"},r.a.createElement(le.a,{className:"btn-created",onClick:function(e){return Ve(e,C.create())}},"Crear")),r.a.createElement("div",{className:"table-responsive"},r.a.createElement(oe.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",{className:"table-head"},r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Descripci\xf3n"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,t.length>0&&t.map((function(e,t){return r.a.createElement("tr",{key:e.uid},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.description),r.a.createElement("td",{className:"row-table-actions text-center"},r.a.createElement(He.a,{"aria-label":"Basic example"},r.a.createElement(le.a,{className:"btn-view",onClick:function(t){return Ve(t,C.view(e.uid))}},"View"),r.a.createElement(le.a,{className:"btn-edit",onClick:function(t){return Ve(t,C.edit(e.uid))}},"Edit"),r.a.createElement(le.a,{className:"btn-delete",onClick:function(t){return Ve(t,C.delete(e.uid))}},"Delete"))))})))),this.state.pagination.total>0&&r.a.createElement(ot,{total:this.state.pagination.total,current:this.state.pagination.activePage,itemsPerPage:this.state.pagination.itemsPerPage,onPageChanged:this.handlePagination})))}}]),t}(n.Component),wt=$(Ct),xt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={item:{name:"",description:"",companiesUID:"",companiesName:""},wordCount:0},a.changeHandler=function(e){var t=e.target.name,n=e.target.value,r=a.state.wordCount;if("description"===t){var c=n;r=(c=(c=(c=c.replace(/[ ]+/g," ")).replace(/^ /,"")).replace(/ $/,"")).split(" ").length}a.setState(Object(U.a)({},a.state,{item:Object(U.a)({},a.state.item,Object(qe.a)({},t,n)),wordCount:r}))},a.changeCompaniesHandler=function(e){a.setState({item:Object(U.a)({},a.state.item,{companiesUID:e?e.value:"",companiesName:e?e.label:""})})},a.handleSubmit=function(e){e.preventDefault(),a.props.saveEntity(a.state.item)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.item;e&&this.setState({item:e})}},{key:"render",value:function(){var e=this.props.companies;return r.a.createElement(d.a,null,r.a.createElement("h2",{className:"pt-5 pb-2"},this.props.title),r.a.createElement(ze.a,{noValidate:!0,onSubmit:this.handleSubmit,validated:"false",className:"pt-2 pb-5"},r.a.createElement(ie.a,null,r.a.createElement(se.a,{md:"10",className:"btn-back-container"},r.a.createElement(le.a,{onClick:function(e){return Te(e)},className:"btn-back"},"Back")),r.a.createElement(se.a,{md:"10",className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Compa\xf1ia"),r.a.createElement(he,{isCreatable:!1,isMulti:!1,options:e,defaultLabel:"name",defaultValue:"uid",handleChange:this.changeCompaniesHandler,selectedOptions:this.state.item?[{uid:this.state.item.companiesUID,name:this.state.item.companiesName}]:[]})),r.a.createElement(se.a,{md:"10",className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Nombre"),r.a.createElement("input",{type:"text",className:"form-control",name:"name",value:this.state.item.name,onChange:this.changeHandler})),r.a.createElement(se.a,{md:"10",className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Descripcion"),r.a.createElement("textarea",{className:"form-control",name:"description",value:this.state.item.description,onChange:this.changeHandler}),r.a.createElement("small",{className:"form-text text-muted"},"Palabras: ",this.state.wordCount))),r.a.createElement("div",{className:"btn-success-container"},r.a.createElement(le.a,{type:"submit",className:"btn-save btn-success"},"Save"))))}}]),t}(n.Component),Nt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={companies:[]},a.saveEntity=function(e){var t;return ce.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=a.props.context.firebase,n.next=3,ce.a.awrap(t.getService("brand").createItem(e,a.props.context.auth.user.id));case 3:n.sent&&f.push(C.index());case 5:case"end":return n.stop()}}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t;return ce.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=this.props.context.firebase,a.next=3,ce.a.awrap(e.getService("company").getAll());case 3:t=a.sent,this.setState({companies:t});case 5:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement(xt,{title:"Crear Marca",saveEntity:this.saveEntity,companies:this.state.companies})}}]),t}(n.Component),kt=$(Nt),St=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={loading:!1,item:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,a;return ce.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.props.context.firebase,this.setState({loading:!0}),t=this.props.match.params.id,n.next=5,ce.a.awrap(e.getService("brand").getItem(t));case 5:a=n.sent,this.setState({item:a,loading:!1});case 7:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.item,a=e.loading;return r.a.createElement(d.a,null,r.a.createElement(ie.a,null,r.a.createElement(se.a,{md:"10"},r.a.createElement("h2",{className:"pt-5 pb-2"},"Ver Marca")),r.a.createElement(se.a,{md:"10",className:"btn-loading mb-1"},a&&r.a.createElement(be,null),r.a.createElement(le.a,{onClick:function(e){return Te(e)},className:"btn-back"},"Atras")),r.a.createElement(se.a,{md:"10"},r.a.createElement(Qe.a,null,r.a.createElement($e.a,{className:"d-flex justify-content-between"},r.a.createElement("span",null,r.a.createElement("strong",null,"Nombre:")),t&&t.name),r.a.createElement($e.a,{className:"d-flex justify-content-between"},r.a.createElement("span",null,r.a.createElement("strong",null,"Descripci\xf3n:")),t&&t.description),r.a.createElement($e.a,{className:"d-flex justify-content-between"},r.a.createElement("span",null,r.a.createElement("strong",null,"Companias:")),t&&t.companiesName)))))}}]),t}(n.Component),At=$(St),Pt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).saveEntity=function(e){var t,n;return ce.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.props.context.firebase,n=a.props.match.params.id,r.next=4,ce.a.awrap(t.getService("brand").updateItem(e,n));case 4:r.sent&&f.push(C.index());case 6:case"end":return r.stop()}}))},a.state={loading:!1,item:null,companies:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n;return ce.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=this.props.context.firebase,this.setState({loading:!0}),t=this.props.match.params.id,r.next=5,ce.a.awrap(e.getService("brand").getItem(t));case 5:return a=r.sent,r.next=8,ce.a.awrap(e.getService("company").getAll());case 8:n=r.sent,this.setState({item:a,loading:!1,companies:n});case 10:case"end":return r.stop()}}),null,this)}},{key:"render",value:function(){return this.state.loading?r.a.createElement(be,null):r.a.createElement(xt,{title:"Actualizar marca",saveEntity:this.saveEntity,item:this.state.item,companies:this.state.companies})}}]),t}(n.Component),Dt=$(Pt),It=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){var t,n;return ce.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),t=a.props.context.firebase,n=a.props.match.params.id,r.next=5,ce.a.awrap(t.getService("brand").removeItem(n));case 5:r.sent&&f.push(C.index());case 7:case"end":return r.stop()}}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(tt.a,{show:!0,onHide:function(e){return Te(e)}},r.a.createElement(at.a,{closeButton:!0},"Eliminar!!!"),r.a.createElement(nt.a,null,"Estas seguro que deseas eliminar este elemento? "),r.a.createElement(rt.a,null,r.a.createElement(le.a,{variant:"secondary",onClick:function(e){return Te(e)}},"Cancelar"),r.a.createElement(le.a,{variant:"primary",onClick:this.handleSubmit},"Eliminar")))}}]),t}(n.Component),Lt=$(It);function Mt(e){var t=e.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.c,null,r.a.createElement(g,{path:"".concat(t.url,"/edit/:id"),component:Dt}),r.a.createElement(g,{path:"".concat(t.url,"/create"),component:kt}),r.a.createElement(g,{path:"".concat(t.url,"/view/:id"),component:At}),r.a.createElement(g,{path:"".concat(t.url),component:wt})),r.a.createElement(g,{path:"".concat(t.url,"/delete/:id"),component:Lt}))}var Bt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handlePagination=function(e){var t=a.state.pagination.activePage<e;a.setState(Object(U.a)({},a.state,{pagination:Object(U.a)({},a.state.pagination,{activePage:e})}),(function(){return a.sortEntities(t)}))},a.sortEntities=function(e){e?a.moveForward():a.moveBackward()},a.moveForward=function(){a.cursor.next().then((function(e){a.setState({items:e})}))},a.moveBackward=function(){a.cursor.previous().then((function(e){a.setState({items:e})}))},a.state={loading:!1,items:{},pagination:{itemsPerPage:2,total:0,cursor:"",activePage:0}},a.getItems=a.props.context.firebase.getService("product").getRefAll(),a.cursor=new We(a.getItems.orderByChild("created"),a.state.pagination.itemsPerPage),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e;return ce.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce.a.awrap(this.props.context.firebase.getService("brand").getCountAll());case 2:e=t.sent,this.setState(Object(U.a)({},this.state,{pagination:Object(U.a)({},this.state.pagination,{total:e})})),this.moveForward();case 5:case"end":return t.stop()}}),null,this)}},{key:"componentWillUnmount",value:function(){this.getItems.off()}},{key:"render",value:function(){var e=this.state,t=e.items,a=e.loading;return r.a.createElement(d.a,null,r.a.createElement("h2",{className:"pt-5"},"Productos"),a&&r.a.createElement(be,null),r.a.createElement(ie.a,{className:"justify-content-end pb-1"},r.a.createElement(le.a,{className:"btn-created",onClick:function(e){return Ve(e,w.create())}},"Crear")),r.a.createElement("div",{className:"table-responsive"},r.a.createElement(oe.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",{className:"table-head"},r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"C\xf3digo"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Descripci\xf3n corta"),r.a.createElement("th",null,"Linea"),r.a.createElement("th",null,"Marca"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,t.length>0&&t.map((function(e,t){return r.a.createElement("tr",{key:e.uid},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.code),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.shortDescription),r.a.createElement("td",null,e.productLineName),r.a.createElement("td",null,e.brandName),r.a.createElement("td",{className:"row-table-actions text-center"},r.a.createElement(He.a,{"aria-label":"Basic example"},r.a.createElement(le.a,{className:"btn-view",onClick:function(t){return Ve(t,w.view(e.uid))}},"View"),r.a.createElement(le.a,{className:"btn-edit",onClick:function(t){return Ve(t,w.edit(e.uid))}},"Edit"),r.a.createElement(le.a,{className:"btn-delete",onClick:function(t){return Ve(t,w.delete(e.uid))}},"Delete"),r.a.createElement(le.a,{className:"btn-delete",onClick:function(t){return Ve(t,w.html(e.uid))}},"Html"))))})))),this.state.pagination.total>0&&r.a.createElement(ot,{total:this.state.pagination.total,current:this.state.pagination.activePage,itemsPerPage:this.state.pagination.itemsPerPage,onPageChanged:this.handlePagination})))}}]),t}(n.Component),Ut=$(Bt),Ft=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,item:{code:"",name:"",shortDescription:"",largeDescription:"",htmlDescription:"",productLineUID:"",productLineName:"",brandUID:"",brandName:""},wordCountShortDescription:0,wordCountLargeDescription:0,active:!1,productLines:[],brands:[]},a.changeHandler=function(e){var t=e.target.name,n=e.target.value,r=a.state.wordCountShortDescription,c=a.state.wordCountLargeDescription;if("shortDescription"===t)r=pt(n);else if("largeDescription"===t){c=pt(n)}a.setState(Object(U.a)({},a.state,{item:Object(U.a)({},a.state.item,Object(qe.a)({},t,n)),wordCountShortDescription:r,wordCountLargeDescription:c}))},a.changeProductLineHandler=function(e){a.setState({item:Object(U.a)({},a.state.item,{productLineUID:e?e.value:"",productLineName:e?e.label:""})})},a.changeBrandHandler=function(e){a.setState({item:Object(U.a)({},a.state.item,{brandUID:e?e.value:"",brandName:e?e.label:""})})},a.changeCompaniesHandler=function(e){a.setState({item:Object(U.a)({},a.state.item,{companiesUID:e?e.value:"",companiesName:e?e.label:""})},(function(){a.getProductLinesAndBrandsData()}))},a.getProductLinesAndBrandsData=function(){var e,t,n;return ce.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=a.props.context.firebase,console.log(a.state.item.companiesUID),r.next=4,ce.a.awrap(e.getService("productLine").getAll({orderByChild:"companiesUID",equalTo:a.state.item.companiesUID}));case 4:return t=r.sent,r.next=7,ce.a.awrap(e.getService("brand").getAll({orderByChild:"companiesUID",equalTo:a.state.item.companiesUID}));case 7:n=r.sent,console.log(n),a.setState(Object(U.a)({},a.state,{productLines:t,brands:n}));case 10:case"end":return r.stop()}}))},a.handleSubmit=function(e){e.preventDefault(),a.props.saveEntity(a.state.item)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.item;if(e){var t=this.state.wordCountShortDescription,a=this.state.wordCountLargeDescription;if(e.shortDescription){var n=e.shortDescription;t=pt(n)}if(e.largeDescription){var r=e.largeDescription;a=pt(r)}this.setState(Object(U.a)({},this.state,{item:e,wordCountShortDescription:t,wordCountLargeDescription:a}))}}},{key:"render",value:function(){var e=this.state,t=e.productLines,a=e.brands,n=this.props.companies;return r.a.createElement(d.a,null,r.a.createElement("h2",{className:"pt-5 pb-2"},this.props.title),r.a.createElement(ze.a,{noValidate:!0,onSubmit:this.handleSubmit,validated:"false",className:"pt-2 pb-5"},r.a.createElement(ie.a,null,r.a.createElement(se.a,{lg:"10",className:"btn-back-container px-0"},r.a.createElement(le.a,{onClick:function(e){return Te(e)},className:"btn-back"},"Back"))),r.a.createElement(ie.a,null,r.a.createElement(se.a,{md:"10",lg:"10",className:"px-sm-0 pl-md-0 pr-md-1 col-info"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"company"},"Compa\xf1\xeda"),r.a.createElement(he,{isCreatable:!1,isMulti:!1,options:n,defaultLabel:"name",defaultValue:"uid",handleChange:this.changeCompaniesHandler,selectedOptions:this.state.item?[{uid:this.state.item.companiesUID,name:this.state.item.companiesName}]:[]})))),r.a.createElement(ie.a,null,r.a.createElement(se.a,{md:"6",lg:"5",className:"px-sm-0 pl-md-0 pr-md-1 col-info"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"productLine"},"Linea de productos"),r.a.createElement(he,{isCreatable:!1,isMulti:!1,options:t,defaultLabel:"name",defaultValue:"uid",handleChange:this.changeProductLineHandler,selectedOptions:this.state.item?[{uid:this.state.item.productLineUID,name:this.state.item.productLineName}]:[]}))),r.a.createElement(se.a,{md:"6",lg:"5",className:"px-sm-0 pr-md-0 pl-md-1 col-info"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"marca"},"Marca"),r.a.createElement(he,{isCreatable:!1,isMulti:!1,options:a,defaultLabel:"name",defaultValue:"uid",handleChange:this.changeBrandHandler,selectedOptions:this.state.item?[{uid:this.state.item.brandUID,name:this.state.item.brandName}]:[]})))),r.a.createElement(ie.a,null,r.a.createElement(se.a,{md:"6",lg:"5",className:"px-sm-0 pl-md-0 pr-md-1 col-info"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"C\xf3digo"),r.a.createElement("input",{type:"text",className:"form-control",name:"code",value:this.state.item.code,onChange:this.changeHandler}))),r.a.createElement(se.a,{md:"6",lg:"5",className:"px-sm-0 pl-md-1 pr-md-0 col-info"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Nombre"),r.a.createElement("input",{type:"text",className:"form-control",name:"name",value:this.state.item.name,onChange:this.changeHandler})))),r.a.createElement(ie.a,null,r.a.createElement(se.a,{lg:"10",className:"form-group col-info"},r.a.createElement("label",{htmlFor:"shortDescription"},"Descripci\xf3n corta"),r.a.createElement("textarea",{className:"form-control",name:"shortDescription",value:this.state.item.shortDescription,onChange:this.changeHandler}),r.a.createElement("small",{className:"form-text text-muted"},"Palabras: ",this.state.wordCount)),r.a.createElement(se.a,{lg:"10",className:"form-group col-info"},r.a.createElement("label",{htmlFor:"description"},"Descripci\xf3n larga"),r.a.createElement("textarea",{className:"form-control",name:"largeDescription",value:this.state.item.largeDescription,onChange:this.changeHandler}),r.a.createElement("small",{className:"form-text text-muted"},"Palabras: ",this.state.wordCount))),r.a.createElement("div",{className:"btn-success-container"},r.a.createElement(le.a,{type:"submit",className:"btn-save btn-success"},"Save"))))}}]),t}(n.Component),Ht=$(Ft),Vt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={companies:[]},a.saveEntity=function(e){var t;return ce.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=a.props.context.firebase,n.next=3,ce.a.awrap(t.getService("product").createItem(e,a.props.context.auth.user.id));case 3:n.sent&&f.push(w.index());case 5:case"end":return n.stop()}}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t;return ce.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=this.props.context.firebase,a.next=3,ce.a.awrap(e.getService("company").getAll());case 3:t=a.sent,this.setState({companies:t});case 5:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement(Ht,{title:"Crear Producto",saveEntity:this.saveEntity,companies:this.state.companies})}}]),t}(n.Component),Tt=$(Vt),Wt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={loading:!1,item:null},a.getItem=a.props.context.firebase.product,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,a;return ce.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.props.context.firebase,this.setState({loading:!0}),t=this.props.match.params.id,n.next=5,ce.a.awrap(e.getService("product").getItem(t));case 5:a=n.sent,this.setState({item:a,loading:!1});case 7:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.item,a=e.loading;return r.a.createElement(d.a,null,r.a.createElement(ie.a,null,r.a.createElement(se.a,{md:"10"},r.a.createElement("h2",{className:"pt-5 pb-2"},"Ver Producto")),r.a.createElement(se.a,{md:"10"},a&&r.a.createElement(be,null),r.a.createElement(le.a,{onClick:function(e){return Te(e)},className:"btn-back"},"Atras")),r.a.createElement(se.a,{md:"10"},r.a.createElement(Qe.a,null,r.a.createElement($e.a,{className:"d-flex justify-content-between"},r.a.createElement("span",null,r.a.createElement("strong",null,"Codigo:")),t&&t.code),r.a.createElement($e.a,{className:"d-flex justify-content-between"},r.a.createElement("span",null,r.a.createElement("strong",null,"Nombre:")),t&&t.name),r.a.createElement($e.a,{className:"d-flex justify-content-between"},r.a.createElement("span",null,r.a.createElement("strong",null,"Descripci\xf3n corta:")),t&&t.shortDescription),r.a.createElement($e.a,{className:"d-flex justify-content-between"},r.a.createElement("span",null,r.a.createElement("strong",null,"Descripci\xf3n larga:")),t&&t.largeDescription),r.a.createElement($e.a,{className:"d-flex justify-content-between"},r.a.createElement("span",null,r.a.createElement("strong",null,"Linea de producto:")),t&&t.productLineName),r.a.createElement($e.a,{className:"d-flex justify-content-between"},r.a.createElement("span",null,r.a.createElement("strong",null,"Marca:")),t&&t.brandName)))))}}]),t}(n.Component),Rt=$(Wt),Gt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={product:null,companies:[]},a.saveEntity=function(e){var t,n;return ce.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=a.props.context.firebase,n=a.props.match.params.id,r.next=4,ce.a.awrap(t.getService("product").updateItem(e,n));case 4:r.sent&&f.push(w.index());case 6:case"end":return r.stop()}}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n;return ce.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=this.props.context.firebase,t=this.props.match.params.id,r.next=4,ce.a.awrap(e.getService("product").getItem(t));case 4:return a=r.sent,r.next=7,ce.a.awrap(e.getService("company").getAll());case 7:n=r.sent,this.setState({companies:n,product:a});case 9:case"end":return r.stop()}}),null,this)}},{key:"render",value:function(){return this.state.product&&r.a.createElement(Ht,{title:"Actualizar Producto",saveEntity:this.saveEntity,item:this.state.product,companies:this.state.companies})}}]),t}(n.Component),qt=$(Gt),zt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){var t,n;return ce.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),t=a.props.context.firebase,n=a.props.match.params.id,r.next=5,ce.a.awrap(t.getService("product").removeItem(n));case 5:r.sent&&f.push(C.index());case 7:case"end":return r.stop()}}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(tt.a,{show:!0,onHide:function(e){return Te(e)}},r.a.createElement(at.a,{closeButton:!0},"Eliminar!!!"),r.a.createElement(nt.a,null,"Estas seguro que deseas eliminar este elemento? "),r.a.createElement(rt.a,null,r.a.createElement(le.a,{variant:"secondary",onClick:function(e){return Te(e)}},"Cancelar"),r.a.createElement(le.a,{variant:"primary",onClick:this.handleSubmit},"Eliminar")))}}]),t}(n.Component),_t=$(zt),Kt=a(68),Jt=a.n(Kt),Qt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){var t=e.editor.getData();a.setState({content:t}),a.props.changeHandler(t)},a.state={content:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e="";e=this.props.html.length>0?this.props.html:"\n    ".concat(this.props.short," <br/>\n    ").concat(this.props.large," <br/>   \n    "),this.setState({content:e},this.props.changeHandler(e))}},{key:"render",value:function(){return r.a.createElement(Jt.a,{activeClass:"p10",content:this.state.content,events:{change:this.onChange}})}}]),t}(n.Component),$t=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).changeHandler=function(e){a.setState(Object(U.a)({},a.state,{item:Object(U.a)({},a.state.item,{htmlDescription:e})}))},a.saveHtmlContent=function(){var e,t,n;return ce.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=a.props.context.firebase,t=a.state.item,n=a.props.match.params.id,r.next=5,ce.a.awrap(e.getService("product").updateItem(t,n));case 5:r.sent&&f.push(w.index());case 7:case"end":return r.stop()}}))},a.state={loading:!1,item:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,a;return ce.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.props.context.firebase,this.setState({loading:!0}),t=this.props.match.params.id,n.next=5,ce.a.awrap(e.getService("product").getItem(t));case 5:a=n.sent,this.setState({item:a,loading:!1});case 7:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.item,a=e.loading;return r.a.createElement(d.a,null,r.a.createElement(ie.a,null,r.a.createElement(se.a,{md:"10"},r.a.createElement("h2",{className:"pt-5 pb-2"},"Ver Producto")),r.a.createElement(se.a,{md:"10"},a&&r.a.createElement(be,null),r.a.createElement(le.a,{onClick:function(e){return Te(e)},className:"btn-back"},"Atras")),r.a.createElement(se.a,{md:"10"},r.a.createElement("h2",null,"Producto: ",t&&t.name)),r.a.createElement(se.a,{md:"12"},t&&r.a.createElement(Qt,{html:t.htmlDescription,short:t.shortDescription,large:t.largeDescription,changeHandler:this.changeHandler})),r.a.createElement(se.a,{md:"10"},r.a.createElement(le.a,{onClick:this.saveHtmlContent,className:"btn btn-warning"},"Guardar"))))}}]),t}(n.Component),Xt=$($t);function Yt(e){var t=e.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.c,null,r.a.createElement(g,{path:"".concat(t.url,"/edit/:id"),component:qt}),r.a.createElement(g,{path:"".concat(t.url,"/create"),component:Tt}),r.a.createElement(g,{path:"".concat(t.url,"/view/:id"),component:Rt}),r.a.createElement(g,{path:"".concat(t.url,"/html/:id"),component:Xt}),r.a.createElement(g,{path:"".concat(t.url),component:Ut})),r.a.createElement(g,{path:"".concat(t.url,"/delete/:id"),component:_t}))}var Zt=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.c,null,r.a.createElement(g,{path:E,exact:!0,component:Se}),r.a.createElement(g,{path:O.LOGIN,component:Fe}),r.a.createElement(g,{path:j.index(),component:st}),r.a.createElement(g,{path:y.index(),component:yt}),r.a.createElement(g,{path:C.index(),component:Mt}),r.a.createElement(g,{path:w.index(),component:Yt}),r.a.createElement(g,{component:Ae})))}}]),t}(n.Component),ea=a(46),ta=a(119),aa=a(120),na=a(121),ra=a(122),ca=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(ea.a)(a)),a.state={isOpen:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this,t=this.props.isAuthenticated;if(console.log(t),!t)return null;var a=E,n=j.index(),c=y.index(),i=C.index(),s=w.index();return r.a.createElement(ta.a,{fixed:"top",className:"navbar fixed-top bg-white text-dark text-uppercase navbar-home",expand:"lg"},r.a.createElement(aa.a,{href:a,onClick:function(e){return Ve(e,a)}},"Writter App Management"),r.a.createElement(na.a,{onClick:this.toggle},r.a.createElement("div",{className:"item-toggler"}),r.a.createElement("div",{className:"item-toggler"}),r.a.createElement("div",{className:"item-toggler"})),r.a.createElement(ra.a,{id:"basic-navbar-nav",isOpen:this.state.isOpen,navbar:!0},r.a.createElement(ae.a,{className:"nav-header",navbar:!0},r.a.createElement(ee.a,{href:a,onClick:function(e){return Ve(e,a)}},"Home"),r.a.createElement(ee.a,{href:n,onClick:function(e){return Ve(e,n)}},"Compa\xf1ias"),r.a.createElement(ee.a,{href:c,onClick:function(e){return Ve(e,c)}},"Linea de productos"),r.a.createElement(ee.a,{href:i,onClick:function(e){return Ve(e,i)}},"Marca"),r.a.createElement(ee.a,{href:s,onClick:function(e){return Ve(e,s)}},"Productos"),r.a.createElement(ee.a,{href:"/logout",onClick:function(t){t.preventDefault(),e.props.logout()}},"Cerrar sessi\xf3n"))))}}]),t}(n.Component),ia=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.isAuthenticated;return console.log(e),r.a.createElement("div",null,r.a.createElement("footer",{className:"footer"},r.a.createElement("span",null," WAM \xa9 2020, Writter Application Management ")))}}]),t}(n.Component),sa=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){a.props.context.firebase.auth.onAuthStateChanged((function(e){if(e){var t={username:e.displayName,email:e.email,id:e.uid,roles:I(e.email)?L:M};a.props.context.auth.setUser(t),a.forceUpdate()}}))},a.logoutWithGoogle=function(){a.props.context.firebase.logout().then((function(){a.props.context.auth.setUser(null),a.forceUpdate(),f.push(O.LOGIN)}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.context.auth.isAuthenticated;return console.log(this.props.context),console.log("isAuthenticated"),console.log(e),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{fluid:!0,style:{paddingTop:"60px"},className:"app"},r.a.createElement(p.b,{history:f},r.a.createElement(r.a.Fragment,null,r.a.createElement(ca,{isAuthenticated:e,logout:this.logoutWithGoogle}),r.a.createElement(Zt,{isAuthenticated:e})))),r.a.createElement(ia,{isAuthenticated:!0,logout:this.logoutWithGoogle}))}}]),t}(n.Component),la=$(sa),oa=(a(95),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function ua(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(X,null,r.a.createElement(la,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");oa?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ua(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):ua(e)}))}}()}},[[70,1,2]]]);
//# sourceMappingURL=main.7e073c2b.chunk.js.map